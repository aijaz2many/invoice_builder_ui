<header class="header shadow-sm">
  <div class="container d-flex align-items-center justify-content-between">
    <div class="logo-area d-flex align-items-center">
      <div class="logo-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
      </div>
      <h1 class="brand-name" routerLink="/" style="cursor: pointer;">eInvoice<span>Builder</span></h1>
    </div>
    <button class="mobile-toggle" (click)="toggleMobileMenu()">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="nav-links" [class.open]="mobileMenuOpen">
      <ng-container *ngIf="isLoggedIn">
        <a *ngIf="isAdmin" routerLink="/admin/dashboard" routerLinkActive="active" class="nav-link"
          (click)="closeMobileMenu()">Dashboard</a>
        <a *ngIf="isAdmin" routerLink="/admin/subscriptions" routerLinkActive="active"
          class="nav-link" (click)="closeMobileMenu()">Subscriptions</a>
        <a routerLink="/builder" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Builder</a>
        <a *ngIf="isAdmin" routerLink="/admin/templates" routerLinkActive="active" class="nav-link"
          (click)="closeMobileMenu()">Templates</a>
        <a routerLink="/invoices" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Invoices</a>
        <a (click)="logout(); closeMobileMenu()" class="nav-link" style="cursor: pointer;">Logout</a>
      </ng-container>
      <ng-container *ngIf="!isLoggedIn">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link"
          (click)="closeMobileMenu()">Home</a>
        <a routerLink="/pricing" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Pricing</a>
        <a routerLink="/login" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Login</a>
        <a routerLink="/signup" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Sign Up</a>
      </ng-container>
    </nav>
    <div class="user-profile" *ngIf="isLoggedIn && currentUser">
      <div class="user-info d-none d-md-flex">
        <span class="user-name">{{ currentUser.fullName }}</span>
        <span class="user-role">{{ isAdmin ? 'Administrator' : 'User' }}</span>
      </div>
      <div class="avatar">{{ initials }}</div>
    </div>
  </div>
</header>
